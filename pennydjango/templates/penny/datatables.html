{% extends 'ui/base.html' %}
{% load static %}
{% block preloads %}
  <link rel="preload" as="style" href="//cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css" crossorigin>
{% endblock preloads %}

{% block head %}
  <link rel="stylesheet" href="//cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css" type="text/css" crossorigin>
{% endblock head %}

{% block title %}{{ table_name }} Table{% endblock title %}
{% block inner_title %}{{ table_name }} Table{% endblock inner_title %}

{% block inner_content %}
  <table class="table" id="datatable-view"></table>
{% endblock %}

{% block tail %}
   {{ column_defs|json_script:'column-def' }}
  <script type="text/javascript">
  let column_defs = JSON.parse(document.getElementById('column-def').textContent);
  let options = {{ show_options|yesno:"true,false" }}
  </script>
  <script src="//cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
  <script src="{% static 'datatables_listview/js/datatables_pipeline.js' %}"></script>
  <script src="{% static 'datatables_listview/js/generate_datatable.js' %}"></script>
{% endblock %}